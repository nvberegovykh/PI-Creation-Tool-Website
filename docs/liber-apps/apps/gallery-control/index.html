<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Gallery Control</title>
  <link rel="stylesheet" href="../../css/style.css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="gallery-admin">
    <header class="gallery-admin__top">
      <h1>Gallery Control</h1>
      <button id="back-btn" class="btn secondary">Back</button>
    </header>

    <section class="panel project-upload" id="project-upload-panel" style="display:none">
      <h2 id="project-form-heading">New Project</h2>
      <form id="project-form" class="project-form">
        <input type="hidden" id="project-id" />
        <label>Title <input id="project-title" required placeholder="Project name" /></label>
        <label>Year <input id="project-year" maxlength="8" placeholder="e.g. 2024" /></label>
        <label>Description <textarea id="project-description" rows="4" placeholder="Project description / text"></textarea></label>
        <label>Cover policy
          <select id="project-cover-policy">
            <option value="first">First item</option>
            <option value="random">Random item</option>
          </select>
        </label>
        <label class="inline"><input id="project-published" type="checkbox" /> Published</label>
        <div class="project-media-section">
          <label class="project-media-label">Media — add, remove, or reorder images/videos</label>
          <div class="project-upload-media" id="project-upload-media">
          <div class="upload-zone" id="project-upload-zone" tabindex="0">
            <input id="project-media" type="file" accept="image/*,video/*" multiple />
            <div class="upload-zone-inner">
              <i class="fas fa-cloud-upload-alt upload-icon"></i>
              <p class="upload-text">Drag &amp; drop images or videos here</p>
              <p class="upload-sub">or click to browse · paste (Ctrl/Cmd+V) to add</p>
            </div>
          </div>
          <div id="project-media-previews" class="media-previews"></div>
          </div>
        </div>
        <div class="actions">
          <button class="btn" type="submit" id="project-save-btn">Save Project</button>
          <button id="project-cancel" class="btn secondary" type="button">Cancel</button>
          <button id="project-delete" class="btn secondary danger" type="button">Delete</button>
        </div>
      </form>
    </section>

    <section class="panel">
      <h2>Projects <button id="project-add-btn" class="btn">+ Add Project</button></h2>
      <div id="projects-cards" class="project-cards"></div>
    </section>

    <section class="panel item-section" id="item-section" style="display:none">
      <h2>Items for <span id="current-project-title"></span> <button id="item-add-btn" class="btn">+ Add Item</button></h2>
      <div class="item-upload" id="item-upload-panel" style="display:none">
        <form id="item-form" class="item-form">
          <input type="hidden" id="item-id" />
          <label>Type
            <select id="item-type">
              <option value="image">Image</option>
              <option value="video">Video</option>
              <option value="text">Text</option>
            </select>
          </label>
          <label>Caption <input id="item-caption" placeholder="Caption" /></label>
          <label>Text <textarea id="item-text" rows="3" placeholder="Text content (for text items)"></textarea></label>
          <label>Sort order <input id="item-sort-order" type="number" min="0" step="1" value="0" /></label>
          <label class="inline"><input id="item-published" type="checkbox" /> Published</label>
          <label id="item-hide-wrap" class="inline"><input id="item-hide-in-preview" type="checkbox" /> Hide in preview rotation</label>
          <label id="item-file-wrap">Media file <input id="item-file" type="file" accept="image/*,video/*" /></label>
          <div class="actions">
            <button class="btn" type="submit">Save Item</button>
            <button id="item-cancel" class="btn secondary" type="button">Cancel</button>
            <button id="item-delete" class="btn secondary danger" type="button">Delete</button>
          </div>
        </form>
      </div>
      <div id="items-cards" class="item-cards"></div>
    </section>
  </div>

  <script>window._gcV='20260222r18';</script>
  <script src="../../js/secure-keys.js"></script>
  <script src="../../js/firebase-loader.js"></script>
  <script src="../../js/firebase-service.js"></script>
  <script src="app.js?v=20260222r19"></script>
</body>
</html>
